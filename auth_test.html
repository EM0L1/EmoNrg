<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmoNrg - Ã‡ok Oyunculu Test</title>
    <link rel="stylesheet" href="auth_style.css">
</head>
<body>

    <!-- 1. GÄ°RÄ°Åž EKRANI -->
    <div id="auth-screen" class="overlay">
        <div class="card">
            <h1 id="auth-title">GiriÅŸ Yap</h1>
            <p>Ã‡ok oyunculu mod iÃ§in giriÅŸ yapÄ±n.</p>

            <div id="auth-form">
                <input id="auth-nickname" type="text" placeholder="KullanÄ±cÄ± AdÄ± (Nickname)" maxlength="20" />
                <input id="auth-password" type="password" placeholder="Åžifre" style="margin-top:10px;" />
                
                <p id="auth-error" class="error hidden"></p>

                <button id="btn-auth-action" class="btn primary large">GiriÅŸ Yap</button>
                <button id="btn-toggle-mode" class="link-btn">HesabÄ±n yok mu? KayÄ±t Ol</button>
            </div>
        </div>
    </div>

    <!-- 2. ANA MENÃœ (Lobi SeÃ§imi) -->
    <div id="lobby-menu" class="overlay hidden">
        <div class="card">
            <h1>Lobi MenÃ¼sÃ¼</h1>
            <h3 id="welcome-msg"></h3>
            
            <div class="menu-buttons">
                <button id="btn-show-create" class="btn primary large">Oda Kur</button>
                <button id="btn-show-join" class="btn large" style="margin-top: 10px;">Koduyla KatÄ±l</button>
                <button id="btn-join-random" class="btn large" style="margin-top: 10px; background: #f59e0b; color: white; border: none;">Rastgele Odaya KatÄ±l</button>
                <button id="btn-logout" class="btn" style="margin-top: 20px; border-color: #ef4444; color: #ef4444;">Ã‡Ä±kÄ±ÅŸ Yap</button>
            </div>
        </div>
    </div>

    <!-- 3. ODA KURMA MODALI -->
    <div id="create-room-modal" class="overlay hidden" style="background: rgba(0,0,0,0.8);">
        <div class="card">
            <h2>Oda AyarlarÄ±</h2>
            
            <div style="margin: 20px 0; text-align: left;">
                <label class="switch-container">
                    <span>Herkese AÃ§Ä±k (Rastgele eÅŸleÅŸme)</span>
                    <input id="room-public-switch" type="checkbox" checked>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="row">
                <button id="btn-create-confirm" class="btn primary">OluÅŸtur</button>
                <button id="btn-create-cancel" class="btn">Ä°ptal</button>
            </div>
        </div>
    </div>

    <!-- 4. ODAYA KATIL MODALI -->
    <div id="join-room-modal" class="overlay hidden" style="background: rgba(0,0,0,0.8);">
        <div class="card">
            <h2>Oda Kodu Girin</h2>
            <input id="room-code-input" type="text" placeholder="6 Haneli Kod" maxlength="6" style="text-transform: uppercase; letter-spacing: 3px; text-align: center; font-size: 24px;" />
            <p id="join-error" class="error hidden"></p>
            <div class="row">
                <button id="btn-join-confirm" class="btn primary">KatÄ±l</button>
                <button id="btn-join-cancel" class="btn">Ä°ptal</button>
            </div>
        </div>
    </div>

    <!-- 5. ODA Ä°Ã‡Ä° BEKLEME EKRANI -->
    <div id="room-lobby" class="overlay hidden">
        <div class="card" style="max-width: 600px;">
            <div class="room-header">
                <h2>Oda Kodu: <span id="display-room-code" style="font-family: monospace; background: #e2e8f0; padding: 2px 8px; border-radius: 4px; color: #2563eb;">------</span></h2>
                <button id="btn-leave-room" class="btn small" style="background: #ef4444; color: white; border: none;">AyrÄ±l</button>
            </div>
            
            <div class="player-slots">
                <h3>Oyuncular (<span id="player-count">1</span>/6)</h3>
                <p style="font-size: 12px; color: #64748b;">Oyunun baÅŸlamasÄ± iÃ§in en az 4 kiÅŸi gerekli.</p>
                
                <ul id="room-player-list" class="player-list-grid">
                    <!-- Oyuncular buraya gelecek -->
                    <!-- <li><span class="avatar">ðŸ‘¤</span> Ä°sim <span class="score">0 Puan</span></li> -->
                </ul>
            </div>

            <div id="room-status-msg" style="margin: 15px 0; color: #f59e0b; font-weight: bold;">Oyuncular bekleniyor...</div>

            <button id="btn-start-game" class="btn primary large" disabled>Oyunu BaÅŸlat</button>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script> 

    <script src="auth.js"></script>

</body>
</html>