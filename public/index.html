<!DOCTYPE html>
<html lang="tr">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>EmoNrg Mini Golf - Demo</title>
	<link rel="stylesheet" href="style.css" />
</head>

<body>

	<!-- 1. GÄ°RÄ°Å EKRANI -->
	<div id="auth-screen" class="overlay">
		<div class="card">
			<h1 id="auth-title">GiriÅŸ Yap</h1>
			<p>Devam etmek iÃ§in giriÅŸ yapÄ±n.</p>

			<div id="auth-form">
				<input id="auth-nickname" type="text" placeholder="KullanÄ±cÄ± AdÄ± (Nickname)" maxlength="20" />
				<input id="auth-password" type="password" placeholder="Åifre" style="margin-top:10px;" />

				<p id="auth-error" class="error hidden"></p>

				<button id="btn-auth-action" class="btn primary large">GiriÅŸ Yap</button>

				<button id="btn-toggle-mode" class="link-btn">HesabÄ±n yok mu? KayÄ±t Ol</button>
			</div>
		</div>
	</div>

	<!-- 2. ANA MENÃœ (Lobi SeÃ§imi) -->
	<div id="lobby-menu" class="overlay hidden">
		<div class="card">
			<h1>EmoNrg Mini Golf</h1>
			<h3 id="welcome-msg"></h3>

			<div class="menu-buttons">
				<button id="btn-show-create" class="btn primary large">Oda OluÅŸtur</button>
				<button id="btn-show-join" class="btn large">Odaya KatÄ±l</button>
				<button id="btn-join-random" class="btn large" style="background: #8b5cf6; color: white;">Rastgele
					KatÄ±l</button>
				<button id="btn-singleplayer" class="btn large" style="background: #10b981; color: white;">Tek
					Oyunculu</button>
			</div>

			<div style="margin-top: 20px; border-top: 1px solid #e2e8f0; padding-top: 15px;">
				<button id="btn-settings" class="btn small">Ayarlar</button>
				<button id="btn-logout" class="btn small" style="background: #ef4444; color: white; border: none;">Ã‡Ä±kÄ±ÅŸ
					Yap</button>
			</div>
		</div>

		<!-- Liderlik Tablosu (SaÄŸ Alt KÃ¶ÅŸe) -->
		<div id="leaderboard-container" class="leaderboard-container">
			<h3>Liderlik Tablosu (Top 5)</h3>
			<table class="leaderboard-table">
				<thead>
					<tr>
						<th>#</th>
						<th>Oyuncu</th>
						<th>Puan</th>
					</tr>
				</thead>
				<tbody id="leaderboard-body">
					<tr>
						<td colspan="3" style="text-align:center;">YÃ¼kleniyor...</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<!-- 3. ODA OLUÅTURMA MODALI -->
	<div id="create-room-modal" class="overlay hidden">
		<div class="card">
			<h2>Oda AyarlarÄ±</h2>

			<div style="margin: 20px 0; text-align: left;">
				<label class="switch-container">
					<span>Herkese AÃ§Ä±k (Rastgele eÅŸleÅŸme)</span>
					<input id="room-public-switch" type="checkbox" checked>
					<span class="checkmark"></span>
				</label>
			</div>

			<div class="row">
				<button id="btn-create-confirm" class="btn primary">OluÅŸtur</button>
				<button id="btn-create-cancel" class="btn">Ä°ptal</button>
			</div>
		</div>
	</div>

	<!-- 4. ODAYA KATIL MODALI -->
	<div id="join-room-modal" class="overlay hidden" style="background: rgba(0,0,0,0.8);">
		<div class="card">
			<h2>Oda Kodu Girin</h2>
			<input id="room-code-input" type="text" placeholder="6 Haneli Kod" maxlength="6"
				style="text-transform: uppercase; letter-spacing: 3px; text-align: center; font-size: 24px;" />
			<p id="join-error" class="error hidden"></p>
			<div class="row">
				<button id="btn-join-confirm" class="btn primary">KatÄ±l</button>
				<button id="btn-join-cancel" class="btn">Ä°ptal</button>
			</div>
		</div>
	</div>

	<!-- 5. ODA Ä°Ã‡Ä° BEKLEME EKRANI -->
	<div id="room-lobby" class="overlay hidden">
		<div class="card" style="max-width: 600px;">
			<div class="room-header">
				<h2>Oda Kodu: <span id="display-room-code"
						style="font-family: monospace; background: #e2e8f0; padding: 2px 8px; border-radius: 4px; color: #2563eb;">------</span>
				</h2>
				<button id="btn-leave-room" class="btn small"
					style="background: #ef4444; color: white; border: none;">AyrÄ±l</button>
			</div>

			<div class="player-slots">
				<h3>Oyuncular (<span id="player-count">1</span>/6)</h3>
				<p style="font-size: 12px; color: #64748b;">Oyunun baÅŸlamasÄ± iÃ§in en az 4 kiÅŸi gerekli.</p>

				<ul id="room-player-list" class="player-list-grid">
					<!-- Oyuncular buraya gelecek -->
				</ul>
			</div>

			<div id="room-status-msg" style="margin: 15px 0; color: #f59e0b; font-weight: bold;">Oyuncular
				bekleniyor...
			</div>

			<div id="room-color-picker"
				style="margin: 10px 0 20px; text-align: left; border-top: 1px solid #e2e8f0; padding-top: 10px;">
				<p style="margin: 0 0 6px; font-size: 14px; color: #334155;">Rengini SeÃ§:</p>
				<div class="color-options">
					<button class="color-option" data-color="red" title="KÄ±rmÄ±zÄ±"></button>
					<button class="color-option" data-color="blue" title="Mavi"></button>
					<button class="color-option" data-color="purple" title="Mor"></button>
					<button class="color-option" data-color="green" title="YeÅŸil"></button>
					<button class="color-option" data-color="yellow" title="SarÄ±"></button>
					<button class="color-option" data-color="white" title="Beyaz"></button>
					<button class="color-option" data-color="pink" title="Pembe"></button>
					<button class="color-option" data-color="turquoise" title="Turkuaz"></button>
				</div>
				<p id="room-color-error" class="error hidden" style="margin-top: 6px;"></p>
			</div>

			<button id="btn-start-game" class="btn primary large" disabled>Oyunu BaÅŸlat</button>
		</div>
	</div>

	<div id="loading-screen" class="overlay hidden">
		<div class="loading-content">
			<div class="golf-ball-icon"></div>
			<h2 id="loading-title">Mini Golf Arena</h2>
			<p id="loading-text">Sonraki harita yÃ¼kleniyor...</p>
			<div id="hole-score-info" class="hidden"
				style="margin-top: 20px; font-size: 24px; font-weight: bold; color: #fbbf24;">
				<!-- Birdie! -1 -->
			</div>
		</div>
	</div>

	<div id="scorecard-overlay" class="overlay hidden">
		<div class="card scorecard-card" style="max-width: 650px;">
			<div id="round-result-area"
				style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #e2e8f0;">
				<h2 id="round-result-title" style="color: #2563eb; font-size: 32px; margin-bottom: 5px;">
				</h2>
				<p id="round-result-points" style="font-size: 20px; color: #64748b; font-weight: 600;"></p>
			</div>
			<div style="text-align: center; margin-bottom: 15px;">
				<h2 style="font-size: 24px; color: #111; margin: 0;">ğŸ† Skor Tablosu</h2>
			</div>
			<table id="scorecard-table" class="scorecard-table">
				<thead id="scorecard-head">
					<!-- JS ile doldurulacak -->
				</thead>
				<tbody id="scorecard-body">
					<!-- JS ile doldurulacak -->
				</tbody>
			</table>
			<button id="btn-close-scorecard" class="btn primary btn-scorecard">Devam Et</button>
			<button id="btn-restart-game" class="btn hidden">Ana MenÃ¼ye DÃ¶n</button>
		</div>
	</div>

	<main id="game" class="hidden">
		<header class="topbar">
			<div>Oyuncu: <span id="display-name">-</span></div>
			<div style="display: flex; gap: 20px;">
				<span>Harita: <span id="map-info">1</span></span>
				<span>Par: <span id="par-info">3</span></span>
				<span>VuruÅŸ: <span id="stroke-info">0</span></span>
			</div>
			<div id="status">Lobiye baÄŸlanmadÄ±</div>
		</header>
		<section class="game-container">
			<div class="canvas-wrapper">
				<canvas id="game-canvas" width="800" height="500"></canvas>
				<div id="power-container" class="hidden">
					<div class="power-bar-bg">
						<div id="power-bar-fill"></div>
					</div>
					<div class="power-controls">
						<span class="power-label">GÃ¼Ã§</span>
						<div id="power-touch-area"></div>
						<button id="shoot-btn" class="btn primary small">Vur</button>
					</div>
				</div>
			</div>
			<aside class="player-sidebar">
				<h3>Oyuncular</h3>
				<ul id="player-list">
					<!-- Oyuncu listesi buraya gelecek -->
				</ul>
			</aside>
		</section>
	</main>

	<!-- Firebase SDKs (v8 compat) -->
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

	<!-- Socket.io -->
	<script src="/socket.io/socket.io.js"></script>

	<!-- Game Scripts -->
	<script src="maps.js"></script>
	<script src="network.js"></script>
	<script src="ui.js"></script>
	<script src="game.js"></script>
	<script src="auth.js"></script>
</body>

</html>